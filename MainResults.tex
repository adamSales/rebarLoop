\documentclass[12pt]{article}

\usepackage{xr}

\makeatletter
\newcommand*{\addFileDependency}[1]{% argument=file name and extension
  \typeout{(#1)}
  \@addtofilelist{#1}
  \IfFileExists{#1}{}{\typeout{No file #1.}}
}
\makeatother

\newcommand*{\myexternaldocument}[1]{%
    \externaldocument{#1}%
    \addFileDependency{#1.tex}%
    \addFileDependency{#1.aux}%
}
\myexternaldocument{MainResults}

\usepackage{amsmath,amsfonts,amsthm,amssymb,thmtools}
\usepackage{bm}
\usepackage{natbib}
%\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{float}
\usepackage{placeins}
%\usepackage{authblk}
\usepackage{comment}
\usepackage{tikz}
\usepackage{booktabs}
\usepackage{array}

\usetikzlibrary{calc}

%\pdfminorversion=4
% NOTE: To produce blinded version, replace "0" with "1" below.
\newcommand{\blind}{0}

\input{notation.tex}
\newcommand\independent{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}
\DeclareMathOperator*{\argmin}{arg\,min}
\newtheorem{prop}{Proposition}


% DON'T change margins - should be 1 inch all around.
\addtolength{\oddsidemargin}{-.5in}%
\addtolength{\evensidemargin}{-.5in}%
\addtolength{\textwidth}{1in}%
\addtolength{\textheight}{.8in}%
\addtolength{\topmargin}{-.8in}%


\begin{document}

%\bibliographystyle{natbib}

\def\spacingset#1{\renewcommand{\baselinestretch}%
{#1}\small\normalsize} \spacingset{1}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\if1\blind
{
  \title{\bf Replication Document for the Main Results in ``Precise Unbiased Estimation in Randomized Experiments using Auxiliary Observational Data''}
  \author{Johann A. Gagnon-Bartsch\thanks{This work was partially
      supported by IES grant R305D210031}\hspace{.2cm}\footnote{These authors contributed equally.}\\
    Department of Statistics, University of Michigan\\
    and \\
    Adam C. Sales${}^\dagger$\\
    Department of Mathematical Sciences, Worcester Polytechnic
    Institute\\
        and \\
    Edward Wu \\
    Department of Statistics, University of Michigan\\
    and \\
    Anthony F. Botelho \\
    Department of Computer Science, Worcester Polytechnic
    Institute\\
    and \\
    John A. Erickson \\
    Data Science Program, Worcester Polytechnic
    Institute\\
    and \\
    Neil T. Heffernan \\
    Department of Computer Science, Worcester Polytechnic
    Institute\\
    and \\
    Luke W. Miratrix \\
    Graduate School of Education, Harvard University




  }
  \date{}
  \maketitle
} \fi

\if0\blind
{
  \bigskip
  \bigskip
  \bigskip
  \begin{center}
    \LARGE\bf Replication Document for the Main Results in ``Precise Unbiased Estimation in Randomized Experiments using Auxiliary Observational Data''
\end{center}
  \medskip
} \fi

\section{Preliminaries}

This document will reproduce all of the tables and figures from the
manuscript. The tables and figures will appear in the compiled version
of this PDF, as well as in stand-alone files to be incorporated into
the main manuscript.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{opts_chunk}\hlopt{$}\hlkwd{set}\hlstd{(}\hlkwc{message}\hlstd{=}\hlnum{FALSE}\hlstd{,}\hlkwc{warning}\hlstd{=}\hlnum{FALSE}\hlstd{,}\hlkwc{error}\hlstd{=}\hlnum{FALSE}\hlstd{,}\hlkwc{echo}\hlstd{=}\hlnum{TRUE}\hlstd{,}\hlkwc{cache}\hlstd{=}\hlnum{TRUE}\hlstd{,}\hlkwc{dev}\hlstd{=}\hlstr{'tikz'}\hlstd{)}
\end{alltt}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{set.seed}\hlstd{(}\hlnum{613}\hlstd{)}
\end{alltt}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{library}\hlstd{(scales)}
\hlcom{#library(tidyverse)}
\hlkwd{library}\hlstd{(dplyr)}
\hlkwd{library}\hlstd{(ggplot2)}
\hlkwd{library}\hlstd{(loop.estimator)}
\hlkwd{library}\hlstd{(kableExtra)}
\hlkwd{library}\hlstd{(xtable)}
\hlkwd{library}\hlstd{(knitr)}
\hlkwd{library}\hlstd{(tikzDevice)}
\hlkwd{library}\hlstd{(estimatr)}



\hlcom{## specialized versions of the LOOP estimator}
\hlkwd{source}\hlstd{(}\hlstr{'code/loop_ols.R'}\hlstd{)}
\hlkwd{source}\hlstd{(}\hlstr{'code/loop_ext.R'}\hlstd{)}
\hlcom{## functions for estimating effects}
\hlkwd{source}\hlstd{(}\hlstr{'code/analysisFunctions.r'}\hlstd{)}
\end{alltt}
\end{kframe}
\end{knitrout}

Names of covariates for within-sample covariate adjustment:
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{covNames} \hlkwb{<-} \hlkwd{c}\hlstd{(}
    \hlstr{"Prior.Problem.Count"}\hlstd{,}
    \hlstr{"Prior.Percent.Correct"}\hlstd{,}
    \hlstr{"Prior.Assignments.Assigned"}\hlstd{,}
    \hlstr{"Prior.Percent.Completion"}\hlstd{,}
    \hlstr{"Prior.Class.Percent.Completion"}\hlstd{,}
    \hlstr{"Prior.Homework.Assigned"}\hlstd{,}
    \hlstr{"Prior.Homework.Percent.Completion"}\hlstd{,}
    \hlstr{"Prior.Class.Homework.Percent.Completion"}\hlstd{,}
    \hlstr{"male"}\hlstd{,}
    \hlstr{"unknownGender"}\hlstd{)}\hlcom{#)}
\end{alltt}
\end{kframe}
\end{knitrout}

\section{Data}

Here we load in the data for estimating effects and standard errors
using several different methods discussed in the manuscript.
Note that the predictions from the model fit in the remnant are
already part of the datasets (which are themselves part of the GitHub
repository) under the column name \texttt{p\_complete}.

Load in and clean the data:\\























